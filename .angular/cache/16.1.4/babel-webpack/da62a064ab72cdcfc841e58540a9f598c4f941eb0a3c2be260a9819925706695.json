{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let HomeComponent = class HomeComponent {\n  constructor(apiService) {\n    this.apiService = apiService;\n    this.searchQuery = '';\n  }\n  ngOnInit() {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    this.apiService.get().subscribe(data => {\n      this.data = data.books;\n      this.filteredData = this.data.map(book => ({\n        ...book,\n        availability: ''\n      }));\n      console.log(this.filteredData);\n    }, error => {\n      console.error(error);\n    });\n  }\n  searchBooks(searchQuery) {\n    if (searchQuery.trim() === '') {\n      this.filteredData = this.data.map(book => ({\n        ...book,\n        availability: ''\n      }));\n    } else {\n      this.filteredData = this.data.filter(item => item.title.toLowerCase().includes(searchQuery.toLowerCase())).map(book => ({\n        ...book,\n        availability: ''\n      }));\n    }\n  }\n  reload() {\n    this.searchQuery = '';\n    this.filteredData = this.data.map(book => ({\n      ...book,\n      availability: ''\n    }));\n  }\n  generateImageUrl(itemId) {\n    itemId++;\n    return `https://picsum.photos/seed/${itemId}/300/400`;\n  }\n  checkAvailability(userId, index) {\n    if (userId === null) {\n      this.filteredData[index].availability = \"It's available\";\n    } else {\n      this.filteredData[index].availability = \"Its taken by [Name]\";\n    }\n    this.filteredData[index].availability = !this.filteredData[index].availability;\n  }\n  trackByIndex(index, item) {\n    return index;\n  }\n};\nHomeComponent = __decorate([Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})], HomeComponent);","map":{"version":3,"names":["Component","HomeComponent","constructor","apiService","searchQuery","ngOnInit","get","subscribe","data","books","filteredData","map","book","availability","console","log","error","searchBooks","trim","filter","item","title","toLowerCase","includes","reload","generateImageUrl","itemId","checkAvailability","userId","index","trackByIndex","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/michaelsabzevari/Desktop/Library-Management-System-UI/src/app/home/home.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../api.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit {\n\tdata: any;\n\tfilteredData: any;\n\tsearchQuery: string = '';\n\n\tconstructor(private apiService: ApiService) {}\n\n\tngOnInit(): void {\n\t\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t\tthis.apiService.get().subscribe(\n\t\t\t(data) => {\n\t  \t\tthis.data = data.books;\n\t  \t\tthis.filteredData = this.data.map((book: any) => ({ ...book, availability: '' }));\n\t  \t\tconsole.log(this.filteredData);\n\t\t},\n\t\t(error) => {\n\t  \t\tconsole.error(error);\n\t\t}\n  \t\t);\n\t}\n\n\tsearchBooks(searchQuery: string): void {\n\t\tif (searchQuery.trim() === '') {\n\t\t  this.filteredData = this.data.map((book: any) => ({ ...book, availability: '' }));\n\t\t} else {\n\t\t\tthis.filteredData = this.data.filter((item: { title: string; }) =>\n\t\t\t  item.title.toLowerCase().includes(searchQuery.toLowerCase())\n\t\t\t  ).map((book: any) => ({ ...book, availability: '' }));\n\t\t  }\n\t  }\n\t  reload() {\n\t\tthis.searchQuery = '';\n\t\tthis.filteredData = this.data.map((book: any) => ({ ...book, availability: '' }));\n\t  }\n\tgenerateImageUrl(itemId: number): string {\n\t\titemId++;\n\t\treturn `https://picsum.photos/seed/${itemId}/300/400`;\n\t  }\n\tcheckAvailability(userId: number, index: number) {\n\t\tif(userId === null){\n\t\t\tthis.filteredData[index].availability = \"It's available\";\n\t\t} else {\n\t\t\tthis.filteredData[index].availability = \"Its taken by [Name]\";\n\t\t}\n\t\tthis.filteredData[index].availability = !this.filteredData[index].availability ;\n\t}\n\ttrackByIndex(index: number, item: any): number {\n\t\treturn index;\n\t  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,WAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKzBC,YAAoBC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAF9B,KAAAC,WAAW,GAAW,EAAE;EAEqB;EAE7CC,QAAQA,CAAA;IACP;IACA,IAAI,CAACF,UAAU,CAACG,GAAG,EAAE,CAACC,SAAS,CAC7BC,IAAI,IAAI;MACP,IAAI,CAACA,IAAI,GAAGA,IAAI,CAACC,KAAK;MACtB,IAAI,CAACC,YAAY,GAAG,IAAI,CAACF,IAAI,CAACG,GAAG,CAAEC,IAAS,KAAM;QAAE,GAAGA,IAAI;QAAEC,YAAY,EAAE;MAAE,CAAE,CAAC,CAAC;MACjFC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACL,YAAY,CAAC;IACjC,CAAC,EACAM,KAAK,IAAI;MACPF,OAAO,CAACE,KAAK,CAACA,KAAK,CAAC;IACvB,CAAC,CACE;EACJ;EAEAC,WAAWA,CAACb,WAAmB;IAC9B,IAAIA,WAAW,CAACc,IAAI,EAAE,KAAK,EAAE,EAAE;MAC7B,IAAI,CAACR,YAAY,GAAG,IAAI,CAACF,IAAI,CAACG,GAAG,CAAEC,IAAS,KAAM;QAAE,GAAGA,IAAI;QAAEC,YAAY,EAAE;MAAE,CAAE,CAAC,CAAC;KAClF,MAAM;MACN,IAAI,CAACH,YAAY,GAAG,IAAI,CAACF,IAAI,CAACW,MAAM,CAAEC,IAAwB,IAC5DA,IAAI,CAACC,KAAK,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACnB,WAAW,CAACkB,WAAW,EAAE,CAAC,CAC3D,CAACX,GAAG,CAAEC,IAAS,KAAM;QAAE,GAAGA,IAAI;QAAEC,YAAY,EAAE;MAAE,CAAE,CAAC,CAAC;;EAEvD;EACAW,MAAMA,CAAA;IACP,IAAI,CAACpB,WAAW,GAAG,EAAE;IACrB,IAAI,CAACM,YAAY,GAAG,IAAI,CAACF,IAAI,CAACG,GAAG,CAAEC,IAAS,KAAM;MAAE,GAAGA,IAAI;MAAEC,YAAY,EAAE;IAAE,CAAE,CAAC,CAAC;EAChF;EACFY,gBAAgBA,CAACC,MAAc;IAC9BA,MAAM,EAAE;IACR,OAAO,8BAA8BA,MAAM,UAAU;EACpD;EACFC,iBAAiBA,CAACC,MAAc,EAAEC,KAAa;IAC9C,IAAGD,MAAM,KAAK,IAAI,EAAC;MAClB,IAAI,CAAClB,YAAY,CAACmB,KAAK,CAAC,CAAChB,YAAY,GAAG,gBAAgB;KACxD,MAAM;MACN,IAAI,CAACH,YAAY,CAACmB,KAAK,CAAC,CAAChB,YAAY,GAAG,qBAAqB;;IAE9D,IAAI,CAACH,YAAY,CAACmB,KAAK,CAAC,CAAChB,YAAY,GAAG,CAAC,IAAI,CAACH,YAAY,CAACmB,KAAK,CAAC,CAAChB,YAAY;EAC/E;EACAiB,YAAYA,CAACD,KAAa,EAAET,IAAS;IACpC,OAAOS,KAAK;EACX;CACF;AAjDY5B,aAAa,GAAA8B,UAAA,EALzB/B,SAAS,CAAC;EACTgC,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,C,EACWjC,aAAa,CAiDzB"},"metadata":{},"sourceType":"module","externalDependencies":[]}