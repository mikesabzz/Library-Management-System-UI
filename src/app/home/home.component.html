<form class="search-container">
  <mat-form-field>
    <input matInput
      class="search-input"
      type="text"
      [(ngModel)]="searchQuery"
      placeholder="Search by title"
      name="searchInput"
    />
  </mat-form-field>
  <button class="search-button" mat-raised-button (click)="searchBooks(searchQuery)">
    Search
  </button>
  <button class="search-button" mat-raised-button (click)="reload()">Refresh</button>
</form>

<div class="library-catalog">
  <div
    class="book-card"
    *ngFor="let item of filteredData; let i = index; trackBy: trackByIndex"
  >
    <div class="book-image">
      <img [src]="generateImageUrl(i)" alt="Book Image" />
    </div>
    <div class="book-details">
      <h2 class="book-title">{{ item.title }}</h2>
      <p class="book-author">{{ item.author }}</p>
      <p class="book-description">{{ item.description }}</p>
    </div>
    <div class="availability-container">
      <p>{{ item.availability }}</p>
      <button mat-stroked-button color="primary"
        class="reserve-button"
        *ngIf="reserveButton[i]"
        (click)="reservePopUp(i)"
      >
        Reserve
      </button>
    </div>

    <button mat-raised-button color="primary"
      class="check-availability-button"
      (click)="checkAvailability(item.userId, i)"
    >
      Check Availability
    </button>
  </div>
</div>
